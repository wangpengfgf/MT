name: A自动签到

on:
  schedule:
    # 北京时间 01:00 = UTC 17:00（前一天）
    - cron: '7 17 * * *'
    - cron: '23 17 * * *'
    - cron: '41 17 * * *'
    - cron: '58 17 * * *'
    # 北京时间 02:00 = UTC 18:00
    - cron: '12 18 * * *'
    - cron: '29 18 * * *'
    - cron: '46 18 * * *'
    - cron: '53 18 * * *'
    # 北京时间 03:00 = UTC 19:00
    - cron: '9 19 * * *'
    - cron: '17 19 * * *'
    - cron: '35 19 * * *'
    - cron: '51 19 * * *'
    # 北京时间 04:00 = UTC 20:00
    - cron: '4 20 * * *'
    - cron: '22 20 * * *'
    - cron: '38 20 * * *'
    - cron: '47 20 * * *'
    # 北京时间 05:00 = UTC 21:00
    - cron: '13 21 * * *'
    - cron: '26 21 * * *'
    - cron: '44 21 * * *'
    - cron: '59 21 * * *'
    # 北京时间 06:00 = UTC 22:00
    - cron: '8 22 * * *'
    - cron: '19 22 * * *'
    - cron: '33 22 * * *'
    - cron: '57 22 * * *'
    # 北京时间 07:00 = UTC 23:00
    - cron: '6 23 * * *'
    - cron: '24 23 * * *'
    - cron: '42 23 * * *'
    - cron: '55 23 * * *'
    # 北京时间 08:00 = UTC 00:00 ⚠️ 这是你想要排除的时间
    # 跳过 08:00，避免 UTC 00:00
    # 北京时间 09:00 = UTC 01:00
    - cron: '3 1 * * *'
    - cron: '15 1 * * *'
    - cron: '31 1 * * *'
    - cron: '54 1 * * *'
    # 北京时间 10:00 = UTC 02:00
    - cron: '7 2 * * *'
    - cron: '21 2 * * *'
    - cron: '45 2 * * *'
    - cron: '58 2 * * *'
    # 北京时间 11:00 = UTC 03:00
    - cron: '14 3 * * *'
    - cron: '27 3 * * *'
    - cron: '39 3 * * *'
    - cron: '52 3 * * *'
    # 北京时间 12:00 = UTC 04:00
    - cron: '5 4 * * *'
    - cron: '18 4 * * *'
    - cron: '34 4 * * *'
    - cron: '48 4 * * *'
  workflow_dispatch:

jobs:
  checkin:
    runs-on: ubuntu-latest

    steps:
    - name: 检出仓库
      uses: actions/checkout@v4

    - name: 设置Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.11'

    - name: 安装依赖
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt
        
    - name: 运行签到
      env:
        ACCOUNTS: ${{ secrets.ACCOUNTS }}
      run: python main.py
